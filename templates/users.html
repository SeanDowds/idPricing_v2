
{% extends 'base.html' %}

{% block content %}

<script src="https://code.jquery.com/jquery-3.6.0.min.js">
</script>


<div class="page-center" id = "cont1">
  <h3 id="h3"> Database Traffic: </h3>
  <br>
  <p id="par4">
  The cost of a Database or CMS will be need to be structured around the expected data traffic it will manage.  This is mostly generated by interaction with its users. Some apps, such as technical on-site calculators or tools, do not need a database and they are usually far cheaper to build and maintain. </p>

</br>

<div class="slider">
  <input type="range" min="0" max="1600"  value="{{ currentRange }}" step="1" id="user_count_range">
  <div id="no_db">No database</div>
  <div id="no_users_50" style="display:none">Users: 1 - 100</div>
  <div id="no_users_500" style="display:none">Users: 100 - 1000</div>
  <div id="no_users_5000" style="display:none">Users: 1000 - 10 000</div>
  <div id="plus" style="display:none">Users: 10 000+</div>
</div>

</div>
</div>

<br>

<div>
  <a href="/quality.html">
    <div class="arrow-button left">
      <i class="fa fa-chevron-left"></i>
    </div>
  </a>

  <a href="/auth.html">
    <div class="arrow-button right">
      <i class="fa fa-chevron-right"></i>
    </div>
  </a>

</div> 


<script>

  const rangeInput = document.getElementById("user_count_range");
const noDb = document.getElementById("no_db");
const noUsers50 = document.getElementById("no_users_50");
const noUsers500 = document.getElementById("no_users_500");
const noUsers5000 = document.getElementById("no_users_5000");
const plus = document.getElementById("plus");

function handleRangeInput() {
  const value = parseInt(rangeInput.value);
  if (value >= 0 && value < 20) {
    noDb.style.display = "block";
    noUsers50.style.display = "none";
    noUsers500.style.display = "none";
    noUsers5000.style.display = "none";
    plus.style.display = "none";
  } else if (value >= 20 && value < 100) {
    noDb.style.display = "none";
    noUsers50.style.display = "block";
    noUsers500.style.display = "none";
    noUsers5000.style.display = "none";
    plus.style.display = "none";
  } else if (value >= 100 && value < 750) {
    noDb.style.display = "none";
    noUsers50.style.display = "none";
    noUsers500.style.display = "block";
    noUsers5000.style.display = "none";
    plus.style.display = "none";
  } else if (value >= 750 && value < 1500) {
    noDb.style.display = "none";
    noUsers50.style.display = "none";
    noUsers500.style.display = "none";
    noUsers5000.style.display = "block";
    plus.style.display = "none";
  } else if (value >= 1500) {
    noDb.style.display = "none";
    noUsers50.style.display = "none";
    noUsers500.style.display = "none";
    noUsers5000.style.display = "none";
    plus.style.display = "block";
  }

  // Send an AJAX request to the server with the value parameter
  var xhr = new XMLHttpRequest();
  xhr.open('POST', '/handle_range_value');
  xhr.setRequestHeader('Content-Type', 'application/json');
  xhr.send(JSON.stringify({ user_volume: value }));
}

rangeInput.addEventListener("input", handleRangeInput);

window.addEventListener("beforeunload", () => {
  rangeInput.removeEventListener("input", handleRangeInput);
});

</script>

{% endblock %}




